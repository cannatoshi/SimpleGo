# Release Notes: v0.1.16-alpha

Release Date: January 25, 2026
Codename: HAL Architecture

---

## Highlights

- Hardware Abstraction Layer (HAL) with 7 interface definitions
- Multi-device architecture enabling single codebase for multiple platforms
- T-Deck Plus device configuration and display HAL implementation
- Kconfig-based device selection and build configuration
- Complete documentation overhaul (README, ARCHITECTURE, ROADMAP)
- Removed T-Embed CC1101 (was temporary development device)

---

## HAL Interface Definitions

| Interface | Purpose |
|-----------|---------|
| hal_common.h | Base types, error codes, logging macros |
| hal_display.h | Display init, flush, backlight, LVGL integration |
| hal_input.h | Keyboard, touch, trackball, encoder abstraction |
| hal_storage.h | NVS key-value store, filesystem operations |
| hal_network.h | WiFi, Ethernet, network events |
| hal_audio.h | Speaker, buzzer, microphone, tone generation |
| hal_system.h | Power management, battery, watchdog, system info |

---

## Device Support

| Device | Status |
|--------|--------|
| LilyGo T-Deck Plus | Active Development |
| LilyGo T-Deck Pro | Planned |
| LilyGo T-Lora Pager | Planned |
| SimpleGo Secure (Tier 2) | Design Phase |
| SimpleGo Vault (Tier 3) | Planning |

---

## T-Deck Plus Implementation

| Component | Status |
|-----------|--------|
| device_config.h | Complete |
| hal_display.c (ST7789V) | Complete |
| hal_input.c | Planned |
| hal_audio.c | Planned |
| hal_storage.c | Planned |
| hal_network.c | Planned |
| hal_system.c | Planned |

---

## New Directory Structure

```
simplex_client/
├── main/
│   ├── hal/                  # HAL interface headers
│   ├── core/                 # Protocol implementation
│   └── ui/                   # User interface (planned)
│
├── devices/
│   ├── t_deck_plus/
│   │   ├── config/           # device_config.h
│   │   └── hal_impl/         # HAL implementations
│   └── template/             # Template for new devices
│
└── docs/
    └── hardware/             # Hardware documentation
```

---

## Documentation Updates

| Document | Changes |
|----------|---------|
| README.md | Complete rewrite, multi-platform ecosystem presentation |
| ARCHITECTURE.md | HAL architecture, device comparison, layer diagrams |
| ROADMAP.md | Full development timeline through v2.0.0 |
| CHANGELOG.md | Version history with all changes |
| BUILD_SYSTEM.md | New: ESP-IDF build system explanation |
| ADDING_NEW_DEVICE.md | New: Guide for porting to new hardware |

---

## Build System

Device selection via Kconfig:

```
idf.py menuconfig
→ SimpleGo Configuration
  → Target Device
    → LilyGo T-Deck Plus
```

Build commands unchanged:

```
idf.py build
idf.py flash monitor -p COM6
```

---

## Removed

| Component | Reason |
|-----------|--------|
| T-Embed CC1101 | Was temporary development device only |
| devices/t_embed_cc1101/ | Directory removed |

---

## Verification Status

| Test | Result |
|------|--------|
| T-Deck Plus Build | Pass |
| T-Deck Plus Flash | Pass |
| Protocol Functionality | Pass |
| TLS Connection | Pass |
| SMP Handshake | Pass |

---

## Known Issues

- App compatibility: A_MESSAGE error still under investigation
- HAL implementations incomplete (only display driver done)

---

## Statistics

| Metric | Value |
|--------|-------|
| HAL interfaces | 7 |
| Supported devices | 1 active, 4 planned |
| Documentation files updated | 6 |
| New documentation files | 2 |

---

## Next Steps

- Complete T-Deck Plus HAL implementations (input, audio, storage)
- Begin LVGL UI integration
- Investigate A_MESSAGE parsing error
- Add T-Deck Pro and T-Lora Pager configurations

---

## Related

- Previous: [v0.1.15-alpha](v0.1.15-alpha.md) - Double Ratchet Implementation
- Next: v0.1.17-alpha - UI Integration (planned)

---

Part of the SimpleGo Secure Messaging Ecosystem
